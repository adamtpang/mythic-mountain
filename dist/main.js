!function(){"use strict";!function(){class e{constructor(e,t,i){this.name=e,this.team=i,this.maxHP=t,this.currentHP=t-30,this.currentPercentage=this.currentHP/this.maxHP}attack(){}}class t{constructor(e){this.unit=e,"player"===this.unit.team?(this.nameText=document.getElementsByClassName("player-name")[0],this.hpSlider=document.getElementsByClassName("player-hp")[0]):"enemy"===this.unit.team&&(this.nameText=document.getElementsByClassName("enemy-name")[0],this.hpSlider=document.getElementsByClassName("enemy-hp")[0]),this.MaxHPSliderWidth=this.hpSlider.style.width,this.width=this.hpSlider.style.width.split("px")[0],this.CurrentHPSliderWidth=this.width*this.unit.currentPercentage}setHUD(){console.log(`this.width: ${this.width}`),console.log(`this.currenthpslider: ${this.CurrentHPSliderWidth}`),this.nameText.innerText=this.unit.name,this.hpSlider.style.width=this.CurrentHPSliderWidth+"px"}setHP(e){this.hpSlider.value=e}}class i{constructor(){this.player=new e("Astalor",120,"player"),this.enemy=new e("Draymond",60,"enemy"),this.playerHUD=new t(this.player),this.enemyHUD=new t(this.enemy),this.battleState="Start",this.currentplayer=this.player}init(){document.getElementsByClassName("dialogue")[0].innerText=`What will ${this.player.name} do...`,this.playerHUD.setHUD(),this.enemyHUD.setHUD()}}class s{constructor(e){this.overworld=e,this.gameContainer=e.element,this.canvas=e.canvas,this.context=e.context,this.audio=e.audio,this.battleScreenArt=new Image,this.battleScreenArt.src="../assets/battle-screen-art/twilight-pond.png",this.audio.src="../music/xDeviruchi - And The Journey Begins .wav",this.playerCanvas=document.createElement("canvas"),this.playerCanvas.classList.add("player-canvas"),this.playerCanvas.width=this.gameContainer.offsetWidth/2,this.playerCanvas.height=this.gameContainer.offsetHeight,this.playerContext=this.playerCanvas.getContext("2d"),this.playerContext.imageSmoothingEnabled=!1,this.enemyCanvas=document.createElement("canvas"),this.enemyCanvas.classList.add("enemy-canvas"),this.enemyCanvas.width=this.gameContainer.offsetWidth/2,this.enemyCanvas.height=this.gameContainer.offsetHeight,this.enemyContext=this.enemyCanvas.getContext("2d"),this.enemyContext.imageSmoothingEnabled=!1,this.gameContainer.appendChild(this.playerCanvas),this.gameContainer.appendChild(this.enemyCanvas),this.fireknight1=new Image,this.fireknight2=new Image,this.fireknight3=new Image,this.fireknight4=new Image,this.fireknight5=new Image,this.fireknight6=new Image,this.fireknight7=new Image,this.fireknight8=new Image,this.fireknight1.src="../assets/battle-screen-art/fireknight/idle_1.png",this.fireknight2.src="../assets/battle-screen-art/fireknight/idle_2.png",this.fireknight3.src="../assets/battle-screen-art/fireknight/idle_3.png",this.fireknight4.src="../assets/battle-screen-art/fireknight/idle_4.png",this.fireknight5.src="../assets/battle-screen-art/fireknight/idle_5.png",this.fireknight6.src="../assets/battle-screen-art/fireknight/idle_6.png",this.fireknight7.src="../assets/battle-screen-art/fireknight/idle_7.png",this.fireknight8.src="../assets/battle-screen-art/fireknight/idle_8.png",this.playerFrame=0,this.slime=new Image,this.slime.src="../assets/battle-screen-art/slime/slime_idle.png",this.enemyFrame=0,this.menu=document.querySelector(".menu"),this.miniMenu=document.querySelector(".mini-menu"),this.fightButton=document.querySelector("#fight-button"),this.switchButton=document.querySelector("#switch-button"),this.fight1=document.querySelector("#fight1"),this.fight2=document.querySelector("#fight2"),this.fight3=document.querySelector("#fight3"),this.fight4=document.querySelector("#fight4"),this.playerName=document.createElement("p"),this.playerName.classList.add("player-name"),this.playerName.innerText="playername",this.playerName.style.color="black",this.playerName.style.fontSize="30px",this.playerName.style.fontFamily="sans-serif",this.playerName.style.fontWeight="bold",this.playerName.style.position="absolute",this.playerName.style.top="10px",this.playerName.style.left="10px",this.playerName.style.zIndex="1",this.menu.appendChild(this.playerName),this.enemyName=document.createElement("p"),this.enemyName.classList.add("enemy-name"),this.enemyName.innerText="enemyname",this.enemyName.style.color="black",this.enemyName.style.fontSize="30px",this.enemyName.style.fontFamily="sans-serif",this.enemyName.style.fontWeight="bold",this.enemyName.style.position="absolute",this.enemyName.style.top="10px",this.enemyName.style.right="10px",this.enemyName.style.zIndex="1",this.menu.appendChild(this.enemyName),this.dialogue=document.createElement("p"),this.dialogue.classList.add("dialogue"),this.dialogue.innerText="What will X do...",this.dialogue.style.color="white",this.dialogue.style.fontSize="20px",this.dialogue.style.fontFamily="sans-serif",this.dialogue.style.fontWeight="bold",this.dialogue.style.position="absolute",this.dialogue.style.top="30px",this.dialogue.style.left="310px",this.dialogue.style.zIndex="1",this.menu.appendChild(this.dialogue),this.playerHealthBar=document.createElement("div"),this.playerHealthBar.classList.add("player-hp"),this.playerHealthBar.style.backgroundColor="red",this.playerHealthBar.style.width="260px",this.playerHealthBar.style.height="20px",this.playerHealthBar.style.position="absolute",this.playerHealthBar.style.top="10px",this.playerHealthBar.style.left="10px",this.playerHealthBar.style.zIndex="1",this.menu.appendChild(this.playerHealthBar),this.enemyHealthBar=document.createElement("div"),this.enemyHealthBar.classList.add("enemy-hp"),this.enemyHealthBar.style.backgroundColor="red",this.enemyHealthBar.style.width="260px",this.enemyHealthBar.style.height="20px",this.enemyHealthBar.style.position="absolute",this.enemyHealthBar.style.top="10px",this.enemyHealthBar.style.right="10px",this.enemyHealthBar.style.zIndex="1",this.menu.appendChild(this.enemyHealthBar),this.battle=new i(this.menu),this.battle.init()}init(){this.fightButton.addEventListener("click",(()=>{this.fightButton.style.display="none",this.switchButton.style.display="none",this.miniMenu.style.flexWrap="wrap",this.fight1.style.display="block",this.fight2.style.display="block",this.fight3.style.display="block",this.fight4.style.display="block"})),this.menu.style.display="flex",this.battleScreenArt.onload=()=>{this.audio.play(),this.context.drawImage(this.battleScreenArt,0,0,this.canvas.width,this.canvas.height),this.animateCombatants()}}animateCombatants(){setInterval((()=>{this.drawPlayer(),this.drawEnemy(),this.gameContainer.appendChild(this.playerCanvas),this.gameContainer.appendChild(this.enemyCanvas),this.playerFrame++,this.enemyFrame++}),100)}drawPlayer(){const e=[this.fireknight1,this.fireknight2,this.fireknight3,this.fireknight4,this.fireknight5,this.fireknight6,this.fireknight7,this.fireknight8],t=e[this.playerFrame%e.length];this.playerContext.clearRect(0,0,this.playerCanvas.width,this.playerCanvas.height),this.playerContext.drawImage(t,80,62,this.playerCanvas.width,this.playerCanvas.height,-50,400,6*this.playerCanvas.width,6*this.playerCanvas.height)}drawEnemy(){this.enemyFrame<15?this.enemyFrame++:this.enemyFrame=0,this.enemyContext.clearRect(0,0,this.enemyCanvas.width,this.enemyCanvas.height),this.enemyContext.drawImage(this.slime,64*Math.floor(this.enemyFrame/3),0,1e3,1e3,200,470,12*this.enemyCanvas.width,12*this.enemyCanvas.height)}}class a{constructor(e){this.overworld=e,this.gameContainer=e.element,this.canvas=e.canvas,this.context=e.context,this.audio=e.audio,this.startScreenArt=new Image,this.startButton=new Image,this.startScreenArt.src="../assets/start-screen/Start Screen.png",this.startButton.src="../assets/start-screen/Start Button.png",this.audio.src="../music/xDeviruchi - Title Theme .wav",this.menu=document.querySelector(".menu")}init(){this.menu.style.display="none",this.startScreenArt.onload=()=>{this.context.drawImage(this.startScreenArt,0,0,this.canvas.width,this.canvas.height),this.gameContainer.appendChild(this.startButton)},this.startButton.addEventListener("click",(()=>{this.gameContainer.removeChild(this.startButton),this.overworld.changeScreen(s)}))}}class n{constructor(e){this.element=e.element,this.canvas=this.element.querySelector(".game-canvas"),this.canvas.width=this.element.offsetWidth,this.canvas.height=this.element.offsetHeight,this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.currentScreen=null,this.audio=new Audio,this.audio.loop=!0,this.audio.muted=!0,this.audio.volume=.2,this.menu=document.querySelector(".menu")}init(){const e=document.getElementById("mute-button");e.addEventListener("click",(()=>{this.audio.muted=!this.audio.muted,this.audio.muted?e.innerHTML="<img src='assets/overworld/mute_icon.png' alt='muted'></img>":(this.audio.play(),e.innerHTML="<img src='assets/overworld/unmute_icon.png' alt='unmuted'></img>")})),this.currentScreen=new a(this),this.currentScreen.init()}changeScreen(e){this.currentScreen=new e(this),this.currentScreen.init()}}window.onload=function(){new n({element:document.querySelector(".game-container")}).init()}}()}();
//# sourceMappingURL=main.js.map